<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>

     <extension-point id="newWizardPages" name="Custom MBS New Wizard Pages" schema="schema/newWizardPages.exsd"/>

   <extension
         point="org.eclipse.ui.newWizards">
<!-- Managed Make Builder Projects -->
      <wizard
            category="org.eclipse.cdt.ui.newCWizards"
            class="org.eclipse.cdt.managedbuilder.ui.wizards.ConvertToMakeWizard"
            finalPerspective="org.eclipse.cdt.ui.CPerspective"
            hasPages="true"
            icon="icons/obj16/convert-normal.gif"
            id="org.eclipse.cdt.ui.wizards.ConvertToMakeWizard"
            name="%WizardConvertMakeProject.name"
            >
         <description>
            %WizardConvertMakeProject.description
         </description>
         <selection
            class="org.eclipse.core.resources.IProject">
         </selection>
      </wizard>
      <wizard
            category="org.eclipse.cdt.ui.newCCWizards"
            class="org.eclipse.cdt.managedbuilder.ui.wizards.ConvertToMakeWizard"
            finalPerspective="org.eclipse.cdt.ui.CPerspective"
            hasPages="true"
            icon="icons/obj16/convert-normal.gif"
            id="org.eclipse.cdt.ui.wizards.ConvertToMakeWizard"
            name="%WizardConvertMakeProject.name"
            >
         <description>
            %WizardConvertMakeProject.description
         </description>
         <selection
            class="org.eclipse.core.resources.IProject">
         </selection>
      </wizard>
   </extension>

   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            name="%MakeBuildPref.name"
            category="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_NewCDTWizard"
            class="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_NewCDTProject"
            id="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_NewCDTProject"/>
      <page
            name="%NewCDTWizardPref.name"
            category="org.eclipse.cdt.ui.preferences.CPluginPreferencePage"
            class="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_NewCDTWizard"
            id="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_NewCDTWizard"/>
      <page
            category="org.eclipse.cdt.ui.preferences.CPluginPreferencePage"
            class="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_Env"
            id="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_Env"
            name="%envPrefName"/>
      <page
            category="org.eclipse.cdt.ui.preferences.CPluginPreferencePage"
            class="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_Vars"
            id="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_Vars"
            name="%varsPrefName"/>
      <page
            category="org.eclipse.cdt.ui.preferences.CPluginPreferencePage"
            class="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_PropertyPage"
            id="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_PropertyPage"
            name="%propSettingsPrefName"/>
   </extension>
   
   <!-- Action for Project Converter in context menu -->
  <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            objectClass="org.eclipse.core.resources.IProject"
            adaptable="true"
            id="org.eclipse.cdt.managedbuilder.ui.popupMenu.ConvertTargetContribution">
         <action
               label="%ConvertTargetAction.label"
               class="org.eclipse.cdt.managedbuilder.ui.actions.ConvertTargetAction"
               menubarPath="convertGroup"
               enablesFor="1"
               id="org.eclipse.cdt.managedbuilder.ui.ConvertTargetAction">
         </action>         
         <filter
               name="projectNature"
               value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
         </filter>
      </objectContribution>
      <objectContribution
            objectClass="org.eclipse.core.resources.IProject"
            adaptable="true"
            id="org.eclipse.cdt.managedbuilder.ui.popupMenu.BuildAll">
        <action
              class="org.eclipse.cdt.managedbuilder.ui.actions.BuildAllAction"
              enablesFor="+"
              id="org.eclipse.cdt.managedbuilder.ui.buildAllAction1"
              label="%BuildMenu.label"
              menubarPath="org.eclipse.cdt.ui.cfgmenu/gm1"
              style="pulldown"/>
        <visibility>
           <objectState
              name="projectNature"
              value="org.eclipse.cdt.managedbuilder.core.managedBuildNature"/>
        </visibility>      
      </objectContribution>
      <objectContribution
           adaptable="true"
           id="org.eclipse.cdt.managedbuilder.ui.BuildSelectedFilesContribution"
           objectClass="org.eclipse.core.resources.IResource">
        <action
              class="org.eclipse.cdt.managedbuilder.ui.actions.BuildFilesAction"
              enablesFor="+"
              id="org.eclipse.cdt.managedbuilder.ui.popups.buildFilesAction"
              label="%BuildSelectedFiles.label"
              menubarPath="additions"/>
        <action
              class="org.eclipse.cdt.managedbuilder.ui.actions.CleanFilesAction"
              enablesFor="+"
              id="org.eclipse.cdt.managedbuilder.ui.popups.cleanFilesAction"
              label="%CleanSelectedFiles.label"
              menubarPath="additions"/>
        <visibility>
           <and>
              <not>
                 <objectClass name="org.eclipse.core.resources.IProject"/>
              </not>
              <not>
                 <objectClass name="org.eclipse.core.resources.IFolder"/>
              </not>
              <objectState
                    name="projectNature"
                    value="org.eclipse.cdt.managedbuilder.core.managedBuildNature"/>
           </and>
        </visibility>
     </objectContribution>
   </extension>
  <extension
        point="org.eclipse.ui.actionSets">
     <actionSet
           id="org.eclipse.cdt.managedbuilder.ui.BuildAllActionSet"
           label="%BuildCfgMenu.label"
           visible="true">
        <action
              class="org.eclipse.cdt.managedbuilder.ui.actions.BuildAllAction"
              enablesFor="+"
              id="org.eclipse.cdt.managedbuilder.ui.buildAllAction0"
              label="%BuildMenu.label"
              menubarPath="project/org.eclipse.cdt.ui.prjmenu/gm1"
              style="pulldown"
        />
     </actionSet>
  </extension>
  <extension
        point="org.eclipse.ui.perspectiveExtensions">
     <perspectiveExtension targetID="org.eclipse.cdt.ui.CPerspective">
        <actionSet id="org.eclipse.cdt.managedbuilder.ui.buildSelectedFilesActionSet"/>
     </perspectiveExtension>
  </extension>

  <!-- Common Navigator extensions  -->
  <extension
        point="org.eclipse.ui.navigator.navigatorContent">
     <commonWizard
           associatedExtensionId="org.eclipse.cdt.ui.navigator.content"
           menuGroupId="org.eclipse.cdt.ui.newProject"
           type="new"
           wizardId="org.eclipse.cdt.ui.wizards.ConvertToMakeWizard">
         <enablement/>
      </commonWizard>
  </extension>
  <extension
        point="org.eclipse.ui.navigator.viewer">
     <viewerContentBinding viewerId="org.eclipse.ui.navigator.ProjectExplorer">
        <includes>
           <contentExtension pattern="org.eclipse.cdt.managedbuilder.ui.wizards.*"/>
        </includes>
     </viewerContentBinding>
  </extension>   

  <extension
           point="org.eclipse.cdt.ui.cPropertyTab">
     <tab
           class="org.eclipse.cdt.managedbuilder.ui.properties.DiscoveryTab"
           icon="icons/elcl16/discovery.gif"
           name="(Single) Discovery.options"
           weight="005"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_Discovery"/>
     <tab
           class="org.eclipse.cdt.managedbuilder.ui.properties.ToolSettingsTab"
           icon="icons/elcl16/config-tool.gif"
           name="%Tool.settings"
           weight="001"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_BuildSettings"/>
     <tab
           class="org.eclipse.cdt.managedbuilder.ui.properties.BuildStepsTab"
           icon="icons/obj16/steps.gif"
           name="%Build.steps"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_BuildSettings"
           weight="002"/>
     <tab
           class="org.eclipse.cdt.managedbuilder.ui.properties.ArtifactTab"
           icon="icons/obj16/artifact.gif"
           name="%Build.artifact"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_BuildSettings"
           weight="003"/>
     <tab
           class="org.eclipse.cdt.managedbuilder.ui.properties.BuilderSettingsTab"
           icon="icons/obj16/build_settings.gif"
           name="%Builder.settings"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_head_build"
           weight="004"/>
     <tab
           class="org.eclipse.cdt.managedbuilder.ui.properties.CPropertyVarsTab"
           name="(Single) CDT Vars (macros)"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_Variables"/>
     <tab
           class="org.eclipse.cdt.managedbuilder.ui.properties.ToolChainEditTab"
           name="(Single) Tool chain edit"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_ToolChain"/>

<!-- exported from CORE -->           
     <tab
           class="org.eclipse.cdt.ui.newui.IncludeTab"
           icon="icons/obj16/hfolder_obj.gif"
           name="%Includes"
           weight="001"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_PathAndSymb"
           tooltip="&quot;Includes list&quot;"/>
     <tab
           class="org.eclipse.cdt.ui.newui.SymbolTab"
           icon="icons/obj16/define_obj.gif"
           name="%Symbols"
           weight="002"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_PathAndSymb"
           tooltip="&quot;Macros list&quot;"/>
     <tab
           class="org.eclipse.cdt.ui.newui.LibraryTab"
           icon="icons/obj16/lib_obj.gif"
           name="%Libraries"
           weight="003"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_PathAndSymb"
           tooltip="&quot;Libraries list&quot;"/>
     <tab
           class="org.eclipse.cdt.ui.newui.LibraryPathTab"
           icon="icons/obj16/opentype.gif"
           name="%Library.paths"
           weight="004"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_PathAndSymb"/>
     <tab
           class="org.eclipse.cdt.ui.newui.RefsTab"
           icon="icons/obj16/search_ref_obj.gif"
           name="%References"
           weight="010"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_PathAndSymb"/>
     <tab
           class="org.eclipse.cdt.ui.newui.CLocationSourceTab"
           icon="icons/obj16/fldr_obj.gif"
           name="%Source.location"
           weight="008"           
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_PathAndSymb"/>
     <tab
           class="org.eclipse.cdt.managedbuilder.ui.properties.CBuildLocationOutputTab"
           icon="icons/obj16/output_folder_obj.gif"
           name="%Output.location"
           weight="009"           
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_PathAndSymb"/>
     <tab
           class="org.eclipse.cdt.ui.newui.StructureTreeTab"
           icon="icons/obj16/hierarchy.gif"
           name="%Data.hierarchy"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_PathAndSymb"
           weight="012"/>
     <tab
           class="org.eclipse.cdt.ui.newui.EnvironmentTab"
           icon="icons/obj16/environment.gif"
           name="(Single) Environment"
           weight="005"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_Environment"/>
     <tab
           class="org.eclipse.cdt.ui.newui.BinaryParsTab"
           icon="icons/obj16/bin_obj.gif"
           name="%Binary.parsers"
           weight="006"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_BuildSettings"/>
     <tab
           class="org.eclipse.cdt.ui.newui.ErrorParsTab"
           icon="icons/obj16/error_obj.gif"
           name="%Error.parsers"
           weight="007"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_BuildSettings"/>

	 <!-- Export settings page -->
	      <tab
           class="org.eclipse.cdt.ui.newui.ExpIncludeTab"
           icon="icons/obj16/hfolder_obj.gif"
           name="%Includes"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_ExpPathAndSymb"
           tooltip="&quot;Includes list&quot;"/>
     <tab
           class="org.eclipse.cdt.ui.newui.ExpSymbolTab"
           icon="icons/obj16/define_obj.gif"
           name="%Symbols"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_ExpPathAndSymb"
           tooltip="&quot;Macros list&quot;"/>
     <tab
           class="org.eclipse.cdt.ui.newui.ExpLibraryTab"
           icon="icons/obj16/lib_obj.gif"
           name="%Libraries"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_ExpPathAndSymb"
           tooltip="&quot;Libraries list&quot;"/>
     <tab
           class="org.eclipse.cdt.ui.newui.ExpLibraryPathTab"
           icon="icons/obj16/opentype.gif"
           name="%Library.paths"
           parent="org.eclipse.cdt.managedbuilder.ui.properties.Page_ExpPathAndSymb"/>

     <!-- tabs for Preference pages -->      
     <tab
           class="org.eclipse.cdt.ui.newui.EnvironmentTab"
           icon="icons/obj16/environment.gif"
           name="(Single) Environment"
           parent="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_Env"/>
     <tab
           class="org.eclipse.cdt.managedbuilder.ui.properties.CPropertyVarsTab"
           name="(Single) CDT Vars (macros)"
           parent="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_Vars"/>
     <tab
           class="org.eclipse.cdt.ui.newui.BinaryParsTab"
           name="%Binary.parsers"
           icon="icons/obj16/bin_obj.gif"
           parent="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_NewCDTProject"
           />
     <tab
           class="org.eclipse.cdt.ui.newui.ErrorParsTab"
           name="%Error.parsers"
           icon="icons/obj16/error_obj.gif"
           parent="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_NewCDTProject"
           />
     <tab
           class="org.eclipse.cdt.managedbuilder.ui.properties.DiscoveryTab"
           icon="icons/elcl16/discovery.gif"
           name="%Discovery.options"
           parent="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_NewCDTProject"
           />
     <tab
           class="org.eclipse.cdt.managedbuilder.ui.properties.BuilderSettingsTab"
           icon="icons/obj16/build_settings.gif"
           name="%Builder.settings"
           parent="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_NewCDTProject"/>
     <tab
           class="org.eclipse.cdt.managedbuilder.ui.preferences.PreferredToolchainsTab"
           name="%Preferred.toolchains"
           parent="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_NewCDTWizard"/>
     <tab
           class="org.eclipse.cdt.managedbuilder.ui.preferences.WizardDefaultsTab"
           name="%Wizard.defaults"
           parent="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_NewCDTWizard"/>
     <tab
           class="org.eclipse.cdt.managedbuilder.ui.preferences.PropertyPageDefsTab"
           name="%PropertyPage.defaults"
           parent="org.eclipse.cdt.managedbuilder.ui.preferences.PrefPage_PropertyPage"/>
  </extension>   

      <extension
            id="BuildSystemWizard"
            name="%Build.System.Wizard"
            point="org.eclipse.cdt.ui.CDTWizard">
         <wizard
               class="org.eclipse.cdt.managedbuilder.ui.wizards.CNewWizard"
               name="%Build.System.Wizard">
         </wizard>
         <wizard
               class="org.eclipse.cdt.managedbuilder.ui.wizards.StdBuildWizard"
               name="%Make.Project.Wizard">
         </wizard>
      </extension>
  
<!-- Custom wizard pages - for testing only 
     <extension
         point="org.eclipse.cdt.managedbuilder.ui.newWizardPages">
      <wizardPage
            ID="org.eclipse.cdt.managedbuilder.ui.tests.wizardPages.AlwaysPresentWizardPage"
            pageClass="org.eclipse.cdt.managedbuilder.ui.test.AlwaysPresentWizardPage"/>
      <wizardPage
            ID="org.eclipse.cdt.managedbuilder.ui.tests.wizardPages.NatureAWizardPage"
            pageClass="org.eclipse.cdt.managedbuilder.ui.test.NatureAWizardPage">
         <nature  natureID="org.eclipse.cdt.core.cnature"/>
      </wizardPage>
      <wizardPage
            ID="org.eclipse.cdt.managedbuilder.ui.tests.wizardPages.NatureBWizardPage"
            pageClass="org.eclipse.cdt.managedbuilder.ui.test.NatureBWizardPage">
         <nature  natureID="org.eclipse.cdt.core.ccnature"/>
      </wizardPage>
      <wizardPage
            ID="org.eclipse.cdt.managedbuilder.ui.tests.wizardPages.ToolchainCWizardPage"
            pageClass="org.eclipse.cdt.managedbuilder.ui.test.ToolchainCWizardPage">
         <toolchain  toolchainID="cdt.managedbuild.toolchain.gnu.exe.debug"/>
      </wizardPage>
      <wizardPage
            ID="org.eclipse.cdt.managedbuilder.ui.tests.wizardPages.ToolchainCv20WizardPage"
            pageClass="org.eclipse.cdt.managedbuilder.ui.test.ToolchainCv20WizardPage">
         <toolchain
               toolchainID="C"
               versionsSupported="2.0.0"/>
      </wizardPage>
      <wizardPage
            ID="org.eclipse.cdt.managedbuilder.ui.tests.wizardPages.ProjectTypeDWizardPage"
            pageClass="org.eclipse.cdt.managedbuilder.ui.test.ProjectTypeDWizardPage">
         <projectType  projectTypeID="D"/>
      </wizardPage>
      <wizardPage
            ID="org.eclipse.cdt.managedbuilder.ui.tests.wizardPages.ProjectTypeEWizardPage"
            pageClass="org.eclipse.cdt.managedbuilder.ui.test.ProjectTypeEWizardPage">
         <projectType  projectTypeID="E"/>
      </wizardPage>
      <wizardPage
            ID="org.eclipse.cdt.managedbuilder.ui.tests.wizardPages.ToolchainFWizardPage"
            pageClass="org.eclipse.cdt.managedbuilder.ui.test.ToolchainFWizardPage">
         <toolchain toolchainID="F"/>
      </wizardPage>
   </extension>
-->
  <extension
        point="org.eclipse.cdt.ui.newCfgDialog">
        <dialog
              class="org.eclipse.cdt.managedbuilder.ui.properties.NewCfgDialog"
              mbs_id="org.eclipse.cdt.managedbuilder.core.configurationDataProvider"
              title="%MBS.create.configuration"/>
  </extension>

     <extension
         point="org.eclipse.ui.propertyPages">
        <page
            class="org.eclipse.cdt.managedbuilder.ui.properties.Page_head_build"
            id="org.eclipse.cdt.managedbuilder.ui.properties.Page_head_build"
            name="%page.c.build"
            >
         <filter
               name="projectNature"
               value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
         </filter>            
         <enabledWhen>
            <or>
		     <instanceof value="org.eclipse.core.resources.IProject"/>
		     <instanceof value="org.eclipse.cdt.core.model.ICProject"/>
		     
		     <instanceof value="org.eclipse.core.resources.IFolder"/>
		     <instanceof value="org.eclipse.cdt.core.model.ICContainer"/>

         	 <instanceof value="org.eclipse.cdt.core.model.ITranslationUnit"/>
	         <instanceof value="org.eclipse.core.resources.IFile"/>
		    </or>          
         </enabledWhen>
        </page>    
        <page
            class="org.eclipse.cdt.managedbuilder.ui.properties.Page_Variables"
            id="org.eclipse.cdt.managedbuilder.ui.properties.Page_Variables"
            category="org.eclipse.cdt.managedbuilder.ui.properties.Page_head_build"
            name="%CDTVariablesProperty.name"
            >
         <filter
               name="projectNature"
               value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
         </filter>
         <enabledWhen>
            <or>
	     <instanceof value="org.eclipse.core.resources.IProject"/>
	     <instanceof value="org.eclipse.cdt.core.model.ICProject"/>
	    </or>
         </enabledWhen>
      </page>
      
      <page
            class="org.eclipse.cdt.managedbuilder.ui.properties.Page_PathAndSymb"
            id="org.eclipse.cdt.managedbuilder.ui.properties.Page_PathAndSymb"
            category="org.eclipse.cdt.ui.newui.Page_head_general"
            name="%CDTPathSymbolsProperty.name"
            >
         <filter
               name="projectNature"
               value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
         </filter>
         <enabledWhen>
            <or>
		     <instanceof value="org.eclipse.core.resources.IProject"/>
		     <instanceof value="org.eclipse.cdt.core.model.ICProject"/>
		     
		     <instanceof value="org.eclipse.core.resources.IFolder"/>
		     <instanceof value="org.eclipse.cdt.core.model.ICContainer"/>

             <instanceof value="org.eclipse.core.resources.IFile"/>
          	 <instanceof value="org.eclipse.cdt.core.model.ITranslationUnit"/>
		    </or>          
         </enabledWhen>
      </page>
      
      <!--page
            class="org.eclipse.cdt.managedbuilder.ui.properties.Page_ExpPathAndSymb"
            id="org.eclipse.cdt.ui.newui.Page_ExpPathAndSymb"
            category="org.eclipse.cdt.ui.newui.Page_head_general"
            name="%CDTExpPathSymbolsProperty.name"
            >
         <filter
               name="projectNature"
               value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
         </filter>
         <enabledWhen>
            <or>
		     <instanceof value="org.eclipse.core.resources.IProject"/>
		     <instanceof value="org.eclipse.cdt.core.model.ICProject"/>
		    </or>          
         </enabledWhen>
      </page-->

      <page
            class="org.eclipse.cdt.managedbuilder.ui.properties.Page_BuildSettings"
            id="org.eclipse.cdt.managedbuilder.ui.properties.Page_BuildSettings"
            category="org.eclipse.cdt.managedbuilder.ui.properties.Page_head_build"
            name="%CDTBuildProperty.name"
            >
         <filter
               name="projectNature"
               value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
         </filter>
         <enabledWhen>
            <or>
		     <instanceof value="org.eclipse.core.resources.IProject"/>
		     <instanceof value="org.eclipse.cdt.core.model.ICProject"/>
		     
		     <instanceof value="org.eclipse.core.resources.IFolder"/>
		     <instanceof value="org.eclipse.cdt.core.model.ICContainer"/>

         	 <instanceof value="org.eclipse.core.resources.IFile"/>
	         <instanceof value="org.eclipse.cdt.core.model.ITranslationUnit"/>
		    </or>          
         </enabledWhen>
      </page>
      <page
            class="org.eclipse.cdt.managedbuilder.ui.properties.Page_ToolChain"
            id="org.eclipse.cdt.managedbuilder.ui.properties.Page_ToolChain"
            category="org.eclipse.cdt.managedbuilder.ui.properties.Page_head_build"
            name="%CDTToolchainProperty.name"
            >
         <filter
               name="projectNature"
               value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
         </filter>
         <enabledWhen>
            <and>
            <or>
		     <instanceof value="org.eclipse.core.resources.IProject"/>
		     <instanceof value="org.eclipse.cdt.core.model.ICProject"/>
		     
		     <instanceof value="org.eclipse.core.resources.IFolder"/>
		     <instanceof value="org.eclipse.cdt.core.model.ICContainer"/>

	         <instanceof value="org.eclipse.core.resources.IFile"/>
         	 <instanceof value="org.eclipse.cdt.core.model.ITranslationUnit"/>
		    </or>
                <test property="org.eclipse.cdt.ui.toolEditEnabled" value="" />
		    </and>          
         </enabledWhen>
      </page>

      <page
            class="org.eclipse.cdt.managedbuilder.ui.properties.Page_Discovery"
            id="org.eclipse.cdt.managedbuilder.ui.properties.Page_Discovery"
            category="org.eclipse.cdt.managedbuilder.ui.properties.Page_head_build"
            name="%Discovery.options"
            >
         <filter
               name="projectNature"
               value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
         </filter>
         <enabledWhen>
            <or>
		     <instanceof value="org.eclipse.core.resources.IProject"/>
		     <instanceof value="org.eclipse.cdt.core.model.ICProject"/>
		     
		     <instanceof value="org.eclipse.core.resources.IFolder"/>
		     <instanceof value="org.eclipse.cdt.core.model.ICContainer"/>

		     <and>
		        <instanceof value="org.eclipse.core.resources.IFile"/>
    	        <test property="org.eclipse.cdt.ui.isSource" value="" />
             </and>
             <and>
	         	<instanceof value="org.eclipse.cdt.core.model.ITranslationUnit"/>
    	        <test property="org.eclipse.cdt.ui.isSource" value="" />
	         </and>	
		    </or>
         </enabledWhen>
      </page>
      <page
            class="org.eclipse.cdt.managedbuilder.ui.properties.Page_Environment"
            id="org.eclipse.cdt.managedbuilder.ui.properties.Page_Environment"
            category="org.eclipse.cdt.managedbuilder.ui.properties.Page_head_build"
            name="%Environment"
            >
         <filter
               name="projectNature"
               value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
         </filter>
         <enabledWhen>
            <or>
		     <instanceof value="org.eclipse.core.resources.IProject"/>
		     <instanceof value="org.eclipse.cdt.core.model.ICProject"/>
		    </or>
         </enabledWhen>
      </page>

  </extension>
  
     <extension
         point="org.eclipse.cdt.make.ui.DiscoveryProfilePage">
      <profilePage
            class="org.eclipse.cdt.make.ui.dialogs.MBSPerProjectSCDProfilePage"
            name="%MBSPerProjectProfile.name"
            profileId="org.eclipse.cdt.managedbuilder.core.GCCManagedMakePerProjectProfile"/>
      <profilePage
            class="org.eclipse.cdt.make.ui.dialogs.MBSPerProjectSCDProfilePage"
            name="%MBSPerProjectProfile.name"
            profileId="org.eclipse.cdt.managedbuilder.core.GCCManagedMakePerProjectProfileC"/>
      <profilePage
            class="org.eclipse.cdt.make.ui.dialogs.MBSPerProjectSCDProfilePage"
            name="%MBSPerProjectProfile.name"
            profileId="org.eclipse.cdt.managedbuilder.core.GCCManagedMakePerProjectProfileCPP"/>
      <profilePage
            class="org.eclipse.cdt.make.ui.dialogs.MBSPerProjectSCDProfilePage"
            name="%MBSPerProjectProfile.name"
            profileId="org.eclipse.cdt.managedbuilder.core.GCCWinManagedMakePerProjectProfile"/>
      <profilePage
            class="org.eclipse.cdt.make.ui.dialogs.MBSPerProjectSCDProfilePage"
            name="%MBSPerProjectProfile.name"
            profileId="org.eclipse.cdt.managedbuilder.core.GCCWinManagedMakePerProjectProfileC"/>
      <profilePage
            class="org.eclipse.cdt.make.ui.dialogs.MBSPerProjectSCDProfilePage"
            name="%MBSPerProjectProfile.name"
            profileId="org.eclipse.cdt.managedbuilder.core.GCCWinManagedMakePerProjectProfileCPP"/>
   </extension>  
</plugin>
